<div>
  <app-control-table
    class="mb-1"
    [buttonControlLabel]="buttonActionLabel"
    (buttonControlActionClicked)="buttonAction()"
    [primarySelectOptions]="selectPrimaryControlOptions"
    [secondSelectOptions]="selectSecondaryControlOptions"
    (primarySelectChanged)="primarySelectChange($event)"
    (secondSelectChanged)="secondarySelectChange($event)"
    [primarySelectLabel]="primarySelectLabel"
    [secondSelectLabel]="secondarySelectLabel"

  ></app-control-table>

  <div>
    <div class="card bg-dark text-white mt-1">
      <div class="card-body">
        <table class="table table-hover table-dark mt-3">
          <thead>
            <tr>
              @for(col of tableHeaders; track $index) {
              <th scope="col">{{ col.header }}</th>
              }@empty {
              <th scope="col">#</th>
              }
              <th></th>
              <th></th>
            </tr>
          </thead>

          <tbody>
            @for(row of tableData; track $index) {
            <tr>
              @for(col of tableHeaders; track col.field) {
              <td class="align-middle">
                @if (col.pipe === 'date' && col.format) {
                {{ row[col.field] | date: col.format }}
                } @else {
                {{ row[col.field] }}
                }

              </td>
              }
              <td class="align-middle"><button class="btn btn-success" (click)="rowEdit(row)">Editar</button></td>
              <td class="align-middle"><button class="btn btn-danger" (click)="rowRemove(row)">Remover</button></td>
            </tr>
            }@empty {
            <tr>
              <td [attr.colspan]="tableHeaders.length || 1" class="text-center p-4 text-white">
                {{messageEmptyTable}}
              </td>
            </tr>
            }

          </tbody>
        </table>
      </div>

    </div>
  </div>
</div>
